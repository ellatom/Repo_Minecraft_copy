<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <title>Document</title>
    <style>
        :root{
            box-sizing: border-box;
            padding:0px;
            margin:0px;
        }
        .page1{
            display:flex;
            flex-direction: row;
            height: 100vh;
        }
        .page1__right_panel{
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: black;
            flex-direction: column;
            flex:1;
        }
        .page1__left_panel_1{
            display:flex;
            justify-content: center;
            align-items: center;
            background: url('minecraft1.png') no-repeat center center/cover;
            flex:6;
        }
        .page1__left_panel_2{
            display: none;
            justify-content: center;
            align-items: center;
            height:100vh;
            flex:6;
            transition:opacity 0.3s linear;
            
        }
        .page1__left_panel_2__myWorld{
            display: none;
            background:white;
            height: 100vh;
            width:100vh;
            grid-template-columns: repeat(20, 1fr);
            grid-template-rows: repeat(20, 1fr);
        }
        .main__btnStart{
            display: block;
            margin:20px auto;
            padding:10px 70px;
            font-size:20px;
            border-radius: 4px;
            font-family: 'Press Start 2P', cursive;
        }
        .main__btnStart:hover{
            cursor: pointer;
        }
        .main_side_items{
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .main_side_items__pickaxe img,
        .main_side_items__shovel img,
        .main_side_items__axe img{
            height:100px;
            width:100px;
            border:2px white solid;
            margin-bottom: 10px;
        }
        .main_side_items__pickaxe img:hover,
        .main_side_items__shovel img:hover,
        .main_side_items__axe img:hover,
        .main_side_items__btn_resetworld
        {
            cursor: pointer;
        }
        .main_side_items__chosen
        {
            height:60px;
            width:60px;

            box-sizing: border-box;
            margin: 0 auto;
        }
        .main_side_items__chosen img{
            height:60px;
            width:60px;
            border:2px white solid;
        }
        .main_side_items__chosen img:hover{
            border:4px blue solid;
        }

        .main_side_items__btn_resetworld{
            padding:5px 20px;
            margin-top:40px;
            align-items: center;
            font-size: 16px;
            font-family: 'Press Start 2P', cursive;
        }
        /* tile */
        .block{
            background-position:center;
            background-repeat:no-repeat; 
            background-size:cover;
            height:5vh;
            box-sizing: border-box;
            /* width:5vh; */
        }
        .block:hover{
            border: 1px white solid;
        }
        /* grass */
        .blockSky
        {
            background-image:url("sky_block.png");
        }
        .blockCloud{
            background-color: white;
        }
        .blockTreeLeaf{
            background-image:url("tree_leaf.png");
        }
        .blockTreeTrunk{
            background-image:url("tree_trunk.png");
        }
        .blockStone{
            background-image:url("stone_block.png");
        }
        .blockWhite{
            background-image:url("block_white.png");
        }
        .blockTopLand{
            background-image:url("land_top_block.png");
        }
        .blockBottomLand{
            background-image:url("land_bottom_block.png");
        }        
    </style>
</head>
<body>
    <div class="page1">
        <div class="page1__left_panel_1">
            <div class="main">
                <img src="header.png"></img>
                <button class="main__btnStart">Start</button>
            </div>
        </div>
        <div class="page1__left_panel_2"> 
            <div class="page1__left_panel_2__myWorld">

            </div>
        </div>
        <div class="page1__right_panel">
            <div class="main_side_items">
                <div class="main_side_items__pickaxe"><img src="blue_pickaxe.png"></img></div>
                <div class="main_side_items__shovel"><img src="shovel.png"></img></div>
                <div class="main_side_items__axe"><img src="axe.png"></img></div>
                <div class="main_side_items__chosen"><img></img></div>
                <button class="main_side_items__btn_resetworld">Reset</button>
            </div>
        </div>
    </div>
    <script>

        // let theGame={ 
        //      worldmatrix=[],
        //      potentialsTools:{axe:1,picaxe:1,shovel:1},
        //      selectedTool:{},
        //      worldZoneElement:{sky:1,trunk:1,leaf:1,topDirt:1,bottomDirt:1,stone:1},
             
        // };

        let btnStart= document.querySelector(".main__btnStart");
        let pickaxe = document.querySelector(".main_side_items__pickaxe img");
        let shovel = document.querySelector(".main_side_items__shovel img");
        let axe = document.querySelector(".main_side_items__axe img");
        let reset=document.querySelector(".main_side_items__btn_resetworld");
        let choosenTool=pickaxe;
        
        btnStart.addEventListener("click",startGame);
        pickaxe.addEventListener("click",chooseToolPickaxe);
        shovel.addEventListener("click",chooseToolShovel);
        axe.addEventListener("click",chooseToolAxe);
        choosenTool.addEventListener("click",choosePlaceForBlockInWorld);
        reset.addEventListener("click",startGame);

       


        function startGame(event){
            hidePreviousPage1(event);
            createNewWorld(event);//full picture matrix
            
            // let blockBottomLandClick = document.querySelector(".block.blockBottomLand");
            // blockBottomLandClick.addEventListener("click",useToolToRemoveBlockBottomLand);
            // chooseToolShovel(event);//options-the background becomes blue:shovel-land,pickaxe-for stone,axe-tree green&&tree root=trunk
            //useToolToRemoveBlock(event);//tool can be used,tool cant be used depends on what block it can remove(red background if not)
            // more than 1 block

            //addBlockToChosen(event);//
            //chooseBlockFromToolBar(event);//click it 
            //chooseSpotForBlock(event);//border is white size of block
            //placeBlock(event);//check if the spot not taken with another block the block has white border
            ///if click is done reset the world


        }
        function hidePreviousPage1(event)
        {
            
            let page1__left_panel_1 = document.querySelector(".page1__left_panel_1");
            let page1__left_panel_2 = document.querySelector(".page1__left_panel_2");
            let page1__left_panel_2__myWorld = document.querySelector(".page1__left_panel_2__myWorld");
            page1__left_panel_1.style.display = 'none';//css style
            page1__left_panel_2.style.display="grid";
            page1__left_panel_2__myWorld.style.display = 'grid';
        }
        function createNewWorld(event){
            let worldArr=[];
            for(let row=0; row<20;row++)
            {
                worldArr[row] = []; 
                for(let column=0;column<20;column++){
                    let page1__left_panel_2__myWorld=document.querySelector(".page1__left_panel_2__myWorld");
                    let div= document.createElement("div");
                    div.classList.add("block");
                    div.addEventListener("click", useToolToRemoveBlock);

                    div.classList.add("blockSky");
                    page1__left_panel_2__myWorld.append(div);
                    let img = document.querySelector(".block.blockSky");
                    worldArr[row][column]=img;

                    if(row<14)
                    {

                        if(row==13&& column==1 || row==13&& column==2 || row==13&& column==3 || row==12&& column==2)
                        {
                            div.classList.add("blockTreeLeaf");
                            page1__left_panel_2__myWorld.append(div);
                            let img = document.querySelector(".block.blockTreeLeaf");
                            worldArr[row][column]=img;
                        }
                        if(row==13 && column==19 || row==13 && column==14 || row==13 && column==13)
                        {
                            div.classList.add("blockStone");
                            page1__left_panel_2__myWorld.append(div);
                            let img = document.querySelector(".block.blockStone");
                            worldArr[row][column]=img;
                        }
                    }
                    if(row==13 && column==16 || row==12 && column==16|| row==11 && column==16)
                    {
                        div.classList.add("blockTreeTrunk");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockTreeTrunk");
                        worldArr[row][column]=img;
                    }
                    if(row==10 && column==16 || row==9 && column==16 || row==8 && column==16 ||
                    row==10 && column==15 || row==10 && column==17 || row==9 && column==15 || row==9 && column==17||
                    row==8 && column==15 || row==8 && column==17){
                        div.classList.add("blockTreeLeaf");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockTreeLeaf");
                        worldArr[row][column]=img;
                    }
                    if( row==8 && column==7 || row==8 && column==8 || row==7 && column==7
                    || row==7 && column==8 || row==7 && column==9|| row==7 && column==10
                    || row==6 && column==9|| row==6 && column==10 
                    || row==7 && column==9|| row==7 && column==10
                    || row==6 && column==9|| row==6 && column==10){
                        div.classList.add("blockWhite");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockWhite");
                        worldArr[row][column]=img;
                    }
                   
                    if(row==14)
                    {
                        div.classList.add("blockTopLand");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockTopLand");
                        worldArr[row][column]=img;
                    }
                    if(row>14)
                    {
                        div.classList.add("blockBottomLand");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockBottomLand");
                        worldArr[row][column]=img;
                    }

                }
            }
        }
        function useToolToRemoveBlock(event){//shovel-land,pickaxe-for stone,axe-tree green&&tree root=trunk

            // debugger;
            console.log(event);

            let stone= event.toElement.classList.contains("blockStone");
            let treeLeaf=event.currentTarget.classList.contains("blockTreeLeaf");
            let treeTrunk=event.currentTarget.classList.contains("blockTreeTrunk");
            let topLand =event.currentTarget.classList.contains("blockTopLand");
            let bottomLand= event.currentTarget.classList.contains("blockBottomLand");
            let remove=true;
            let main_side_items__chosen= document.querySelector(".main_side_items__chosen");



            if(stone && choosenTool==pickaxe && remove===true)
            {
                event.toElement.classList.remove("blockStone");
                remove=false;
                let img= document.querySelector(".main_side_items__chosen img");
                img.src="stone_block.png";
            }
            if(treeLeaf && choosenTool==axe && remove===true)
            {
                
                event.toElement.classList.remove("blockTreeLeaf");
                remove=false;
                let img= document.querySelector(".main_side_items__chosen img");
                img.src="tree_leaf.png";
            }
            if(treeTrunk && choosenTool==axe && remove===true)
            {
                event.toElement.classList.remove("blockTreeTrunk");
                let img= document.querySelector(".main_side_items__chosen img");
                img.src="tree_trunk.png";
            }
            if(topLand && choosenTool==shovel && remove===true)
            {
                event.toElement.classList.remove("blockTopLand");
                remove=false;
                let img= document.querySelector(".main_side_items__chosen img");
                img.src="land_top_block.png";
            }
            if(bottomLand && choosenTool==shovel && remove===true)
            {
                // debugger;
                event.toElement.classList.remove("blockBottomLand");
                remove=false;
                let img= document.querySelector(".main_side_items__chosen img");
                img.src="land_bottom_block.png";
            }
        //     else{
        //         .main_side_items__pickaxe img,
        // .main_side_items__shovel img,
        // .main_side_items__axe img
        //     }

        }
        function chooseToolPickaxe(event){
            // debugger;
            switch(choosenTool){
                case shovel:
                    shovel.src="shovel.png";
                    break;
                case pickaxe:
                    axe.src="axe.png";
                    break;
            }
            pickaxe.src="blue_pickaxe.png";
            choosenTool=pickaxe;
            console.log("pickaxe was chosen");
        }
        function chooseToolShovel(event){
            // debugger;
            switch(choosenTool){
                case axe:
                    axe.src="axe.png";
                    break;
                case pickaxe:
                    pickaxe.src="pickaxe.png";
                    break;
            }
            shovel.src="blue_shovel.png";
            choosenTool=shovel;
        }
        function chooseToolAxe(event){
            // debugger;
            switch(choosenTool){//previous tool should be removed from purpule background
                case shovel:
                    shovel.src="shovel.png";
                    break;
                case pickaxe:
                    pickaxe.src="pickaxe.png";
                    break;
            }
            axe.src="blue_axe.png";
            choosenTool=axe;
        }
    </script>
</body>
</html>