<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <title>Document</title>
    <style>
        :root{
            box-sizing: border-box;
            padding:0px;
            margin:0px;
        }
        .page1{
            display:flex;
            flex-direction: row;
            height: 100vh;
        }
        .page1__right_panel{
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: black;
            flex-direction: column;
            flex:1;
        }
        .page1__left_panel_1{
            display:flex;
            justify-content: center;
            align-items: center;
            background: url('minecraft1.png') no-repeat center center/cover;
            flex:6;
        }
        .page1__left_panel_2{
            display: none;
            justify-content: center;
            align-items: center;
            height:100vh;
            flex:6;
            transition:opacity 0.3s linear;
            
        }
        .page1__left_panel_2__myWorld{
            display: none;
            background:white;
            height: 100vh;
            width:100vh;
            grid-template-columns: repeat(20, 1fr);
            grid-template-rows: repeat(20, 1fr);
        }
        .main__btnStart{
            display: block;
            margin:20px auto;
            padding:10px 70px;
            font-size:20px;
            border-radius: 4px;
            font-family: 'Press Start 2P', cursive;
        }
        .main__btnStart:hover{
            cursor: pointer;
        }
        .main_side_items{
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .main_side_items__pickaxe img,
        .main_side_items__shovel img,
        .main_side_items__axe img{
            height:100px;
            width:100px;
            border:2px white solid;
            margin-bottom: 10px;
        }
        .main_side_items__pickaxe img:hover,
        .main_side_items__shovel img:hover,
        .main_side_items__axe img:hover,
        .main_side_items__btn_resetworld
        {
            cursor: pointer;
        }
        .main_side_items__chosen
        {
            height:60px;
            width:60px;

            box-sizing: border-box;
            margin: 0 auto;
        }
        .main_side_items__chosen img{
            height:60px;
            width:60px;
            border:2px white solid;
        }
        .main_side_items__chosen img:hover{
            border:4px blue solid;
        }

        .main_side_items__btn_resetworld{
            padding:5px 20px;
            margin-top:40px;
            align-items: center;
            font-size: 16px;
            font-family: 'Press Start 2P', cursive;
        }
        /* tile */
        .block{
            background-position:center;
            background-repeat:no-repeat; 
            background-size:cover;
            height:5vh;
            box-sizing: border-box;
            /* width:5vh; */
        }
        .block:hover{
            border: 1px white solid;
        }
        /* grass */
        .blockSky
        {
            background-image:url("sky_block.png");
        }
        .blockCloud{
            background-color: white;
        }
        .blockTreeLeaf{
            background-image:url("tree_leaf.png");
        }
        .blockTreeTrunk{
            background-image:url("tree_trunk.png");
        }
        .blockStone{
            background-image:url("stone_block.png");
        }
        .blockWhite{
            background-image:url("block_white.png");
        }
        .blockTopLand{
            background-image:url("land_top_block.png");
        }
        .blockBottomLand{
            background-image:url("land_bottom_block.png");
        }        
    </style>
</head>
<body>
    <div class="page1">
        <div class="page1__left_panel_1">
            <div class="main">
                <img src="header.png"></img>
                <button class="main__btnStart">Start</button>
            </div>
        </div>
        <div class="page1__left_panel_2"> 
            <div class="page1__left_panel_2__myWorld">

            </div>
        </div>
        <div class="page1__right_panel">
            <div class="main_side_items">
                <div class="main_side_items__pickaxe"><img src="blue_pickaxe.png"></img></div>
                <div class="main_side_items__shovel"><img src="shovel.png"></img></div>
                <div class="main_side_items__axe"><img src="axe.png"></img></div>
                <div class="main_side_items__chosen"><img></img></div>
                <button class="main_side_items__btn_resetworld">Reset</button>
            </div>
        </div>
    </div>
    <script>

        let btnStart= document.querySelector(".main__btnStart");
        let pickaxe = document.querySelector(".main_side_items__pickaxe img");
        let shovel = document.querySelector(".main_side_items__shovel img");
        let axe = document.querySelector(".main_side_items__axe img");
        let reset=document.querySelector(".main_side_items__btn_resetworld");
        let choosenTool=pickaxe;
        let previousChosenTool=pickaxe;
        let choosenBlockTool= document.querySelector(".main_side_items__chosen img");
        let remove=true;
        let add =false;

        
        btnStart.addEventListener("click",startGame);
        pickaxe.addEventListener("click",chooseToolPickaxe);
        shovel.addEventListener("click",chooseToolShovel);
        axe.addEventListener("click",chooseToolAxe);
        choosenBlockTool.addEventListener("click",grabBlockToPlaceInWorld);

        reset.addEventListener("click",startGame);

       


        function startGame(event){
            hidePreviousPage1(event);
            createNewWorld(event);//full picture matrix
            
            // let blockBottomLandClick = document.querySelector(".block.blockBottomLand");
            // blockBottomLandClick.addEventListener("click",useToolToRemoveBlockBottomLand);
            // chooseToolShovel(event);//options-the background becomes blue:shovel-land,pickaxe-for stone,axe-tree green&&tree root=trunk
            //useToolToRemoveBlock(event);//tool can be used,tool cant be used depends on what block it can remove(red background if not)
            // more than 1 block

            //addBlockToChosen(event);//
            //chooseBlockFromToolBar(event);//click it 
            //chooseSpotForBlock(event);//border is white size of block
            //placeBlock(event);//check if the spot not taken with another block the block has white border
            ///if click is done reset the world


        }
        function hidePreviousPage1(event)
        {
            let page1__left_panel_1 = document.querySelector(".page1__left_panel_1");
            let page1__left_panel_2 = document.querySelector(".page1__left_panel_2");
            let page1__left_panel_2__myWorld = document.querySelector(".page1__left_panel_2__myWorld");
            page1__left_panel_1.style.display = 'none';//css style
            page1__left_panel_2.style.display="grid";
            page1__left_panel_2__myWorld.style.display = 'grid';
        }
        function createNewWorld(event){
            
            let worldArr=[];
            for(let row=0; row<20;row++)
            {
                worldArr[row] = []; 
                for(let column=0;column<20;column++){
                    let page1__left_panel_2__myWorld=document.querySelector(".page1__left_panel_2__myWorld");
                    let div= document.createElement("div");
                    div.classList.add("block");

                    div.addEventListener("click", useToolToRemoveAddBlock);
                    // ...choosenBlockTool
                    // function divClick()
                    // {
                    //     if (macav1) // 
                    //     {
                    //         useToolToRemoveBlock
                    //     }
                    //     if (macav2)
                    //     {
                    //         choosePlaceForBlockInWorld
                    //     }
                    // }
                    
                    div.classList.add("blockSky");
                    page1__left_panel_2__myWorld.append(div);
                    let img = document.querySelector(".block.blockSky");
                    worldArr[row][column]=img;

                    if(row<14)
                    {

                        if(row==13&& column==1 || row==13&& column==2 || row==13&& column==3 || row==12&& column==2)
                        {
                            div.classList.add("blockTreeLeaf");
                            page1__left_panel_2__myWorld.append(div);
                            let img = document.querySelector(".block.blockTreeLeaf");
                            worldArr[row][column]=img;
                        }
                        if(row==13 && column==19 || row==13 && column==14 || row==13 && column==13)
                        {
                            div.classList.add("blockStone");
                            page1__left_panel_2__myWorld.append(div);
                            let img = document.querySelector(".block.blockStone");
                            worldArr[row][column]=img;
                        }
                    }
                    if(row==13 && column==16 || row==12 && column==16|| row==11 && column==16)
                    {
                        div.classList.add("blockTreeTrunk");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockTreeTrunk");
                        worldArr[row][column]=img;
                    }
                    if(row==10 && column==16 || row==9 && column==16 || row==8 && column==16 ||
                    row==10 && column==15 || row==10 && column==17 || row==9 && column==15 || row==9 && column==17||
                    row==8 && column==15 || row==8 && column==17){
                        div.classList.add("blockTreeLeaf");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockTreeLeaf");
                        worldArr[row][column]=img;
                    }
                    if( row==8 && column==7 || row==8 && column==8 || row==7 && column==7
                    || row==7 && column==8 || row==7 && column==9|| row==7 && column==10
                    || row==6 && column==9|| row==6 && column==10 
                    || row==7 && column==9|| row==7 && column==10
                    || row==6 && column==9|| row==6 && column==10){
                        div.classList.add("blockWhite");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockWhite");
                        worldArr[row][column]=img;
                    }
                   
                    if(row==14)
                    {
                        div.classList.add("blockTopLand");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockTopLand");
                        worldArr[row][column]=img;
                    }
                    if(row>14)
                    {
                        div.classList.add("blockBottomLand");
                        page1__left_panel_2__myWorld.append(div);
                        let img = document.querySelector(".block.blockBottomLand");
                        worldArr[row][column]=img;
                    }

                }
            }
        }
        function useToolToRemoveAddBlock(event){//shovel-land,pickaxe-for stone,axe-tree green&&tree root=trunk

            console.log(event);

            let stone= event.currentTarget.classList.contains("blockStone");
            let treeLeaf=event.currentTarget.classList.contains("blockTreeLeaf");
            let treeTrunk=event.currentTarget.classList.contains("blockTreeTrunk");
            let topLand =event.currentTarget.classList.contains("blockTopLand");
            let bottomLand= event.currentTarget.classList.contains("blockBottomLand");
            let sky= event.currentTarget.classList.contains("blockSky");
            let img= document.querySelector(".main_side_items__chosen img");

            if(remove===true){
                if(stone && choosenTool==pickaxe && remove===true)
                {
                    choosenBlockTool=event.toElement.classList[2];
                    event.currentTarget.classList.remove("blockStone");
                    remove=false;
                    img.src="stone_block.png";

                }
                
                if(treeLeaf && choosenTool==axe && remove===true)
                {
                    choosenBlockTool=event.currentTarget.classList[2];
                    event.currentTarget.classList.remove("blockTreeLeaf");
                    remove=false;
                    img.src="tree_leaf.png";

                }
                if(treeTrunk && choosenTool==axe && remove===true)
                {
                    choosenBlockTool=event.currentTarget.classList[2];
                    event.currentTarget.classList.remove("blockTreeTrunk");
                    img.src="tree_trunk.png";

                }
                if(topLand && choosenTool==shovel && remove===true)
                {
                    choosenBlockTool=event.currentTarget.classList[2];
                    event.currentTarget.classList.remove("blockTopLand");
                    remove=false;
                    img.src="land_top_block.png";

                }
                if(bottomLand && choosenTool==shovel && remove===true)
                {
                    choosenBlockTool=event.currentTarget.classList[2];
                    event.currentTarget.classList.remove("blockBottomLand");
                    remove=false;
                    img.src="land_bottom_block.png";

                }

            }
            debugger;
            if(remove===false)
            {
                if(add===true&& choosenBlockTool==="blockStone")
                {
                    event.currentTarget.classList.add("blockStone");
                    event.currentTarget.src="stone_block.png";
                    img.src="none";
                    add=false;
                    remove=true;
                }
                if(add===true&& choosenBlockTool==="blockTopLand")
                {
                    event.currentTarget.classList.add("blockTopLand");
                    event.currentTarget.src="land_bottom_block.png";
                    img.src="none";
                    add=false;
                    remove=true;
                }
                if(add===true && choosenBlockTool==="blockBottomLand")
                {
                    event.currentTarget.classList.add("blockBottomLand");
                    event.currentTarget.src="land_top_block.png";
                    img.src="none";
                    add=false;
                    remove=true;
                }
                if(add===true && choosenBlockTool==="blockTreeLeaf")
                {
                    event.currentTarget.classList.add("blockTreeLeaf");
                    event.currentTarget.src="tree_leaf.png";
                    img.src="none";
                    add=false;
                    remove=true;
                }
                if(add===true && choosenBlockTool==="blockTreeTrunk")
                {
                    event.currentTarget.classList.add("blockTreeTrunk");
                    event.currentTarget.src="tree_trunk.png";
                    img.src="none";
                    add=false;
                    remove=true;
                }
            }

            // if(((treeTrunk||treeLeaf ||stone ) && choosenTool===shovel))
            // {
            //     if(choosenTool!=previousChosenTool)
            //     {
            //         previousChosenTool.style.border="none";
            //         choosenTool.style.border = "1px solid red";
            //     }
            // }
            // if(((bottomLand||topLand ||stone ) && choosenTool===axe))
            // {
            //     if(choosenTool!=previousChosenTool)
            //     {
            //         previousChosenTool.style.border="none";
            //         choosenTool.style.border = "1px solid red";
            //     }
            // }
            // if(((bottomLand||topLand ||treeTrunk||treeLeaf ) && choosenTool===pickaxe))
            // {
            //     if(choosenTool!=previousChosenTool)
            //     {
            //         previousChosenTool.style.border="none";
            //         choosenTool.style.border = "1px solid red";
            //     }
            // }    
        }
        
        function chooseToolPickaxe(event){
            switch(choosenTool){
                case shovel:
                    shovel.src="shovel.png";
                    break;
                case pickaxe:
                    axe.src="axe.png";
                    break;
            }
            pickaxe.src="blue_pickaxe.png";
            choosenTool=pickaxe;
            console.log("pickaxe was chosen");
        }
        
        function chooseToolShovel(event){
            switch(choosenTool){
                case axe:
                    axe.src="axe.png";
                    break;
                case pickaxe:
                    pickaxe.src="pickaxe.png";
                    break;
            }
            shovel.src="blue_shovel.png";
            choosenTool=shovel;
        }
        
        function chooseToolAxe(event){
            switch(choosenTool){//previous tool should be removed from purpule background
                case shovel:
                    shovel.src="shovel.png";
                    break;
                case pickaxe:
                    pickaxe.src="pickaxe.png";
                    break;
            }
            axe.src="blue_axe.png";
            choosenTool=axe;
        }//bug tools from axe to packaxe
        
        function grabBlockToPlaceInWorld(event)
        {
            // debugger;

            if(choosenBlockTool!= "" && remove===false)
            {
                add=true;
                if(choosenTool===pickaxe)
                    pickaxe.src="pickaxe.png"; 
                if(choosenTool===shovel)
                    pickaxe.src="shovel.png"; 
                if(choosenTool===axe)
                    pickaxe.src="axe.png"; 

            }
        }
    </script>
</body>
</html>